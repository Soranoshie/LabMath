# Лабораторная работа: Генерация штрих-кодов и QR-кодов

## Описание

Данный проект реализует приложение для генерации штрих-кодов и QR-кодов с использованием библиотеки ZXing.Net. В рамках лабораторной работы были рассмотрены основные алгоритмы и методики генерации этих кодов, а также проведен анализ их помехозащищенности.

Проект позволяет генерировать как одномерные штрих-коды (например, CODE_128), так и двумерные QR-коды. Генерация осуществляется с учетом настроек коррекции ошибок для QR-кодов, что улучшает их помехозащищенность. Кроме того, изображения сохраняются в формате PNG, что предотвращает потерю качества данных.

## Основные алгоритмы и методики генерации кодов

### 1. **QR-коды**

QR-коды (Quick Response Code) — это двумерные штрих-коды, которые могут содержать гораздо больше информации, чем одномерные штрих-коды. QR-коды используются для быстрой передачи информации через мобильные устройства и другие устройства считывания.

#### Методика генерации QR-кодов

Для генерации QR-кодов используется класс `BarcodeWriter` из библиотеки ZXing.Net. Основные шаги:

- Устанавливается формат кодировки — QR-код.
- Задаются параметры кодирования, включая:
  - **CharacterSet**: кодировка символов (UTF-8).
  - **ErrorCorrection**: уровень коррекции ошибок (в текущем коде используется `ErrorCorrectionLevel.H`, что обеспечивает высокий уровень коррекции ошибок и увеличивает помехозащищенность).
  - **Width** и **Height**: размеры изображения QR-кода.
  
После этого метод `Write()` генерирует изображение QR-кода в формате `Bitmap`, которое сохраняется в файл.

### 2. **Штрих-коды**

Штрих-коды (например, CODE_128) представляют собой одномерные коды, которые обычно используются для маркировки товаров и учета.

#### Методика генерации штрих-кодов

Для генерации штрих-кодов также используется класс `BarcodeWriter`. В отличие от QR-кодов, штрих-коды не имеют встроенной коррекции ошибок, и их устойчивость к повреждениям ограничена.

#### Описание параметров:

- **Format**: Устанавливает формат кода, который будет генерироваться. В нашем случае это:
  - `BarcodeFormat.QR_CODE` — для генерации QR-кодов.
  - `BarcodeFormat.CODE_128` — для генерации штрих-кодов типа CODE 128.

- **Options**: Включает различные настройки кодирования, такие как размер изображения и параметры для QR-кодов:
  - **CharacterSet**: Указывает кодировку символов (например, "UTF-8").
  - **Width** и **Height**: Определяют размеры генерируемого изображения (по умолчанию для QR-кодов 250x250 пикселей).
  - **ErrorCorrection**: Уровень коррекции ошибок для QR-кодов. Уровни могут быть следующими:
    - `ErrorCorrectionLevel.L` — низкий уровень (до 7% ошибок).
    - `ErrorCorrectionLevel.M` — средний уровень (до 15% ошибок).
    - `ErrorCorrectionLevel.Q` — высокий уровень (до 25% ошибок).
    - `ErrorCorrectionLevel.H` — очень высокий уровень (до 30% ошибок).

  В данном проекте для QR-кодов установлен высокий уровень коррекции `ErrorCorrectionLevel.H`, что обеспечивает наибольшую устойчивость к повреждениям.

- **Renderer**: Указывает, как будет сгенерировано изображение. В данном случае используется рендерер `BitmapRenderer`, который создает изображение в формате `Bitmap`. Этот рендерер поддерживает сохранение изображения в различных форматах, например, PNG или JPEG.

  Пример:

  ```csharp
  Renderer = new BitmapRenderer()

### 3. **Рендеринг и сохранение изображений**

Генерация штрих-кодов и QR-кодов осуществляется с использованием рендерера `BitmapRenderer`, который создает изображение в формате `Bitmap`. Этот рендерер позволяет легко сохранять изображения в различных форматах, таких как PNG или JPEG.

В примере кода:

```csharp
var bitmap = barcodeWriter.Write(data);

bitmap.Save(inputFilePathQr, System.Drawing.Imaging.ImageFormat.Png);

```

Мы сохраняем изображение QR-кода в формате PNG. Этот формат поддерживает сжатие без потерь, что предотвращает ухудшение качества при сохранении изображений.

Аналогичный подход используется для штрих-кодов.

### 4. **Анализ помехозащищенности**

#### QR-коды

QR-коды обладают встроенной системой коррекции ошибок, что делает их более устойчивыми к повреждениям по сравнению с обычными штрих-кодами. В ZXing.Net для QR-кодов используется алгоритм коррекции ошибок Рида-Соломона, который позволяет восстанавливать данные даже при частичных повреждениях кода.

Уровень коррекции ошибок для QR-кодов можно настроить в зависимости от предполагаемого уровня повреждений. Существует четыре уровня коррекции:

- **ErrorCorrectionLevel.L** — Низкий уровень коррекции (до 7% ошибок).
- **ErrorCorrectionLevel.M** — Средний уровень коррекции (до 15% ошибок).
- **ErrorCorrectionLevel.Q** — Высокий уровень коррекции (до 25% ошибок).
- **ErrorCorrectionLevel.H** — Очень высокий уровень коррекции (до 30% ошибок).

В данном проекте установлен высокий уровень коррекции ошибок — `ErrorCorrectionLevel.H`, что позволяет коду восстанавливать до 30% поврежденных данных. Это означает, что QR-код может быть поврежден на значительную часть, но при этом данные все равно будут извлечены при сканировании.

#### Штрих-коды

Штрих-коды, в отличие от QR-кодов, не обладают встроенной коррекцией ошибок. Это означает, что если штрих-код поврежден, например, из-за царапин, грязи или искажений, его может быть трудно считать. В случае значительных повреждений или искажений данные могут быть утеряны или невозможно прочитать.

Для улучшения устойчивости к повреждениям можно использовать 2D-штрих-коды, такие как **DataMatrix** или **PDF417**, которые поддерживают коррекцию ошибок. Однако в данном проекте используется стандартный одномерный штрих-код **CODE_128**, который не предусматривает такую коррекцию.


